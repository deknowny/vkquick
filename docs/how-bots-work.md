# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–æ—Ç—ã?

–≠—Ç–∞ —Å–µ–∫—Ü–∏—è –≤ –ª–µ–≥–∫–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É API –∏ LongPoll. –ï—Å–ª–∏ –í–∞–º —ç—Ç–∏ —Ç–µ—Ä–º–∏–Ω—ã –∑–Ω–∞–∫–æ–º—ã, –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

***

# API

–ú–Ω–æ–≥–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç API ‚Äî —Å—Ö–µ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Ç—Å–≤–∏—è —Å–æ —Å–≤–æ–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ø—É—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å HTTP –∑–∞–ø—Ä–æ—Å, –ø–µ—Ä–µ–¥–∞–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–æ –≤ –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–∏—Å–∞, –∫—É–¥–∞ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å, –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏–ª–∏ –∂–µ –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî –∫–∞–∫–∏–µ-–ª–∏–±–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è API –∑–∞–ø—Ä–æ—Å–∞–º–∏.

_–õ—é–±–æ–π_ API –∑–∞–ø—Ä–æ—Å —É –í–ö —Å—Ç—Ä–æ–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```
https://api.vk.com/method/{method_name}?{params}&access_token={token}&v={version}
```

* `{method_name}`: –ò–º—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ (—Ç–æ, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ...). –í—Å–µ –º–µ—Ç–æ–¥—ã –æ–ø–∏—Å–∞–Ω—ã [__–∑–¥–µ—Å—å__](https://vk.com/dev/methods)
* `{params}`: –ü–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –º–µ—Ç–æ–¥ (–æ–ø–∏—Å–∞–Ω—ã –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ —Å—Å—ã–ª–∫–æ–π –≤—ã—à–µ)
* `{token}`: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–∫–∫–∞—É–Ω—Ç—É/—Å–æ–æ–±—â–µ—Å—Ç–≤—É. –ì–∏–¥ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ
* `{version}`: –í–µ—Ä—Å–∏—è API

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ü–∞–≤–ª–∞ –î—É—Ä–æ–≤–∞ ‚Äî –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–µ–Ω –º–µ—Ç–æ–¥ `users.get`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç–µ—Ä `user_ids` ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —É –Ω–∞—Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π ID, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–≤–µ–Ω –µ–¥–∏–Ω–∏—Ü–µ. –ü–æ—ç—Ç–æ–º—É —Å–æ—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞. –¢–æ–∫–µ–Ω –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç—É—Ç [https://vkhost.github.io](https://vkhost.github.io) (–≤—ã–±–µ—Ä–∏—Ç–µ VK Me, —Å–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —Å–æ –≤—Å–µ–º –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –æ—Ç `access_token=` –¥–æ `&expires_in`). –í–µ—Ä—Å–∏—é –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `5.133`. –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:

```
https://api.vk.com/method/users.get?user_ids=1&v=5.133&access_token={access_token}
```

–ï—Å–ª–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω –≤ —Å—Å—ã–ª–∫—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –í–ö –ø—Ä–∏—à–ª–µ—Ç –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:


```json
{
    "response": [
        {
            "first_name": "–ü–∞–≤–µ–ª",
            "id": 1,
            "last_name": "–î—É—Ä–æ–≤",
            "can_access_closed": true,
            "is_closed": false,
            "can_invite_to_chats": false
        }
    ]
}
```

–û—Ç—Å—é–¥–∞ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –∏–º—è, —Ñ–∞–º–∏–ª–∏—é –∏ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è üéâ! –ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —É–∑–Ω–∞–ª–∏ —Ç–æ, –∫–∞–∫ –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Ç –í–ö, –∏—Å–ø–æ–ª—å–∑—É—è –µ–≥–æ API. –ü–æ–ø—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Python –∏ –ø–æ–ø—É–ª—è—Ä–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests`. VK Quick –∏–º–µ–µ—Ç —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ —Å–≤–æ–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç—Ç–∞–ø —É—Å—Ç–∞–Ω–æ–≤–∫–∏, `requests` —É–∂–µ –∏–º–µ–µ—Ç—Å—è –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö. –ï—Å–ª–∏ –∂–µ `requests` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

<div class="termy">
```console
$ python -m pip install requests
---> 100%
```
</div>

–ù–∞—à–∞ –Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π API –∑–∞–ø—Ä–æ—Å, –∏—Å–ø–æ–ª—å–∑—É—è Python –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests`, –∫–æ—Ç–æ—Ä–∞—è —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å

```python
import requests


token = ""  # –°—é–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω
response = requests.get(
    "https://api.vk.com/method/users.get",
    params={
        "user_ids": 1,
        "access_token": token,
        "version": "5.133"
    }
)
response = response.json()
print(response)
```

–ù–µ —Ç–∞–∫ –º–Ω–æ–≥–æ –∫–æ–¥–∞, –∏ –∑–∞–ø—Ä–æ—Å –≥–æ—Ç–æ–≤. –ú—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –Ω—É–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∞ –∑–∞—Ç–µ–º —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `.json()` –∏–∑ JSON-—Å—Ö–µ–º—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–ª–æ–≤–∞—Ä—å. –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤—Ç–∞–µ–ª—è –≤ –∫–æ–¥–µ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å `response["response"][0]["first_name"]`

–í —Ä–∞–∑–¥–µ–ª–µ [__–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è__](../docs) –≤—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å API –∑–∞–ø—Ä–æ—Å—ã —Å –ø–æ–º–æ—â—å—é VK Quick.

# LongPoll
–ï—Å–ª–∏ —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ, —Ç–æ –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –í–ö —É–≤–µ–¥–æ–º–ª—è–µ—Ç –±–æ—Ç–∞ –æ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏? –î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è `LongPoll`. –ú—ã –ø–æ—Å—ã–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ –í–ö, –Ω–æ –í–ö –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–µ —Å—Ä–∞–∑—É, –∞ —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ–±—ã—Ç–∏–µ (–ø—Ä–∏—à–ª–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä), –ø—Ä–∏—Å—ã–ª–∞—è –≤ –æ—Ç–≤–µ—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, ID –µ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è...). –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–Ω–æ —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å, –∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Ü–∏–∫–ª–∏—á–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –≤—Å–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è, –Ω–æ –≤—Å—è –æ–Ω–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —É –í–ö

* [__–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ__](https://vk.com/dev/groups_events)
* [__–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è__](https://vk.com/dev/using_longpoll_2?f=3.%2B–°—Ç—Ä—É–∫—Ç—É—Ä–∞%2B—Å–æ–±—ã—Ç–∏–π)

–ú—ã –Ω–µ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –ø—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Ç—Å–≤–∏—è —Å `LongPoll`, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –±—É–¥–µ—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º –∏ –ø–ª–æ—Ö–æ –ø–æ–Ω—è—Ç–Ω—ã–º. –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `LongPoll` –≤ `VK Quick` –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Ä–∞–±–æ—Ç—ã –≤ —Ü–µ–ª–æ–º.

!!! Note
    –°—É—â–µ—Å—Ç–≤—É–µ—Ç –µ—â–µ –æ–¥–Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π ‚Äî `Callback`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã –≤—ã—Å—Ç—É–ø–∞–µ—Ç–µ –≤ —Ä–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞, –∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ–∏—Ö–æ–¥–∏—Ç –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ, –∏–º–µ–Ω–Ω–æ –≤–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–≤—ã–º
